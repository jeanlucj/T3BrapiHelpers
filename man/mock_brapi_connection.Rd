% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/brapi_mock.R
\name{mock_brapi_connection}
\alias{mock_brapi_connection}
\title{Create a Mock BrAPI Connection Object}
\usage{
mock_brapi_connection()
}
\value{
A list of class \code{"MockBrAPI"} with \verb{$get()} and \verb{$post()} methods that return
mock BrAPI JSON-like structures.
}
\description{
\code{mock_brapi_connection()} constructs a lightweight stand-in for a BrAPI
connection object. This is useful for:
}
\details{
\itemize{
\item \strong{package examples} (so examples do not call real servers)
\item \strong{unit tests} with \code{testthat}
\item developing functions that consume a BrAPI connection without requiring
internet access or a real database
}

The mock object implements minimal versions of the two BrAPI methods:
\itemize{
\item \verb{$get(endpoint, ...)}
\item \verb{$post(endpoint, body)}
}

and returns deterministic, small, fake responses that mimic the structure of
real BrAPI responses from The Triticeae Toolbox (T3).
\subsection{Supported Mock Endpoints}{

The mock handles the following endpoint patterns:
\itemize{
\item \code{"studies/<id>"} – returns a single fake trial metadata record
\item \code{"search/studies"} – returns a single fake trial in the \code{data} block
\item \code{"search/studies/<searchId>"} – same as above
\item \code{"search/germplasm"} – returns a single germplasm record with a synonym
}

Any unrecognized endpoint returns an empty \code{data} list.
}

\subsection{When to Use}{
\itemize{
\item In examples for functions that take a BrAPI connection
\item When building tutorials or vignettes without T3 login credentials
\item When unit-testing BrAPI workflows
}
}

\subsection{When \emph{Not} to Use}{
\itemize{
\item When validating real BrAPI server behavior
\item When timing or stress-testing real API queries
}
}
}
\examples{
# Create a mock connection
mock <- mock_brapi_connection()

# Example: pretend to query a study
study_result <- mock$get("studies/study1")
study_result$content$result$studyName

# Example: pretend to search for trials
trials <- mock$post("search/studies", body = list(commonCropNames = "wheat"))
names(trials$content$result$data[[1]])

# Example: pretend to retrieve germplasm metadata
germ <- mock$post("search/germplasm", body = list(studyDbIds = "study1"))
germ$content$result$data[[1]]$germplasmName

}

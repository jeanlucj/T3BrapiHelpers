[{"path":"https://jeanlucj.github.io/T3BrapiHelpers/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Jannink Jean-Luc. Author, maintainer.","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Jean-Luc J (2026). T3BrapiHelpers: Functions Get Metadata Trials Accessions T3 BrAPI. R package version 0.1.23, https://jeanlucj.github.io/T3BrapiHelpers/.","code":"@Manual{,   title = {T3BrapiHelpers: Functions To Get Metadata On Trials And Accessions From T3 With BrAPI},   author = {Jannink Jean-Luc},   year = {2026},   note = {R package version 0.1.23},   url = {https://jeanlucj.github.io/T3BrapiHelpers/}, }"},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/covariance_combiner.html","id":null,"dir":"Reference","previous_headings":"","what":"EM Covariance Combiner — covariance_combiner","title":"EM Covariance Combiner — covariance_combiner","text":"Implementation EM algorithm combining partial covariance matrices. function implements EM algorithm combining multiple partially observed covariance matrices single combined covariance matrix.","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/covariance_combiner.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"EM Covariance Combiner — covariance_combiner","text":"","code":"covariance_combiner(   partial_covs,   var_indices,   degrees_freedom = NULL,   max_iter = 100,   tol = 1e-06,   track_loglik = TRUE,   calc_sampling_cov = FALSE )"},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/covariance_combiner.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"EM Covariance Combiner — covariance_combiner","text":"partial_covs List partial covariance matrices var_indices List zero-based variable indices partial covariance matrix degrees_freedom Optional numeric vector degrees freedom matrix (default: 100 ) max_iter Maximum iterations EM algorithm (default: 100) tol Convergence tolerance EM algorithm (default: 1e-6) track_loglik Whether track log-likelihood values iterations (default: TRUE) calc_sampling_cov Whether calculate sampling covariance resulting combined covariance matrix (default: FALSE)","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/covariance_combiner.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"EM Covariance Combiner — covariance_combiner","text":"List containing: psi: combined covariance matrix sampling_cov: Sampling covariance matrix combined covariance matrix loglik_path: Vector log-likelihood values iteration (track_loglik=TRUE)","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/covariance_combiner.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"EM Covariance Combiner — covariance_combiner","text":"","code":"if (FALSE) { # \\dontrun{ # Create some example data cov1 <- matrix(c(1.0, 0.5, 0.5, 2.0), nrow=2) cov2 <- matrix(c(1.5, 0.3, 0.3, 1.8), nrow=2) cov3 <- matrix(c(2.0, 1.0, 1.0, 3.0), nrow=2)  # Define which variables are observed in each matrix (0-based indices) idx1 <- c(0, 1)  # Variables 0 and 1 in first matrix idx2 <- c(1, 2)  # Variables 1 and 2 in second matrix idx3 <- c(0, 2)  # Variables 0 and 2 in third matrix  # Run the EM algorithm result <- covariance_combiner(   partial_covs=list(cov1, cov2, cov3),   var_indices=list(idx1, idx2, idx3),   degrees_freedom=c(100, 100, 100), calc_sampling_cov = T )  # Extract the combined covariance matrix combined_cov <- result$psi print(combined_cov)  # Extract the sampling covariance matrix sampling_cov <- result$sampling_cov print(sampling_cov)  # Plot the log-likelihood path if (!is.null(result$loglik_path)) {   plot(result$loglik_path, type=\"l\",        xlab=\"Iteration\", ylab=\"Log-likelihood\") } } # }"},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/covcomb_compute_conditional_expectation.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute conditional expectation for the E-step of the EM algorithm — covcomb_compute_conditional_expectation","title":"Compute conditional expectation for the E-step of the EM algorithm — covcomb_compute_conditional_expectation","text":"Compute conditional expectation E-step EM algorithm","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/covcomb_compute_conditional_expectation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute conditional expectation for the E-step of the EM algorithm — covcomb_compute_conditional_expectation","text":"","code":"covcomb_compute_conditional_expectation(ya, psi, obs_idx, missing_idx)"},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/covcomb_compute_conditional_expectation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute conditional expectation for the E-step of the EM algorithm — covcomb_compute_conditional_expectation","text":"ya Observed partial covariance matrix psi Current estimate combined covariance matrix obs_idx Indices observed variables (0-based) missing_idx Indices missing variables (0-based)","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/covcomb_compute_conditional_expectation.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute conditional expectation for the E-step of the EM algorithm — covcomb_compute_conditional_expectation","text":"Conditional expectation complete covariance matrix","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/covcomb_compute_log_likelihood.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute the observed data log-likelihood — covcomb_compute_log_likelihood","title":"Compute the observed data log-likelihood — covcomb_compute_log_likelihood","text":"Compute observed data log-likelihood","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/covcomb_compute_log_likelihood.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute the observed data log-likelihood — covcomb_compute_log_likelihood","text":"","code":"covcomb_compute_log_likelihood(psi, partial_covs, var_indices, degrees_freedom)"},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/covcomb_compute_log_likelihood.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute the observed data log-likelihood — covcomb_compute_log_likelihood","text":"psi Current estimate combined covariance matrix partial_covs List partial covariance matrices var_indices List variable indices partial covariance matrix degrees_freedom Degrees freedom partial covariance matrix","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/covcomb_compute_log_likelihood.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute the observed data log-likelihood — covcomb_compute_log_likelihood","text":"observed data log-likelihood","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/covcomb_compute_sampling_covariance.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute the sampling covariance matrix for the combined covariance matrix — covcomb_compute_sampling_covariance","title":"Compute the sampling covariance matrix for the combined covariance matrix — covcomb_compute_sampling_covariance","text":"Compute sampling covariance matrix combined covariance matrix","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/covcomb_compute_sampling_covariance.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute the sampling covariance matrix for the combined covariance matrix — covcomb_compute_sampling_covariance","text":"","code":"covcomb_compute_sampling_covariance(   psi,   partial_covs,   var_indices,   degrees_freedom )"},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/covcomb_compute_sampling_covariance.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute the sampling covariance matrix for the combined covariance matrix — covcomb_compute_sampling_covariance","text":"psi Combined covariance matrix partial_covs List partial covariance matrices var_indices List variable indices partial covariance matrix degrees_freedom Degrees freedom partial covariance matrix","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/covcomb_compute_sampling_covariance.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute the sampling covariance matrix for the combined covariance matrix — covcomb_compute_sampling_covariance","text":"Sampling covariance matrix combined covariance matrix","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/covcomb_initialize_psi.html","id":null,"dir":"Reference","previous_headings":"","what":"Initialize the combined covariance matrix using available variances — covcomb_initialize_psi","title":"Initialize the combined covariance matrix using available variances — covcomb_initialize_psi","text":"Initialize combined covariance matrix using available variances","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/covcomb_initialize_psi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Initialize the combined covariance matrix using available variances — covcomb_initialize_psi","text":"","code":"covcomb_initialize_psi(partial_covs, var_indices, n_vars)"},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/covcomb_initialize_psi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Initialize the combined covariance matrix using available variances — covcomb_initialize_psi","text":"partial_covs List partial covariance matrices var_indices List variable indices partial covariance matrix n_vars Total number variables","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/covcomb_initialize_psi.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Initialize the combined covariance matrix using available variances — covcomb_initialize_psi","text":"Initialized covariance matrix","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/getAllTrialMetaData.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve metadata on all trials for a given crop — getAllTrialMetaData","title":"Retrieve metadata on all trials for a given crop — getAllTrialMetaData","text":"Queries BrAPI /search/studies endpoint studies matching given common crop name, handles polling needed, compiles results trial metadata data frame.","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/getAllTrialMetaData.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve metadata on all trials for a given crop — getAllTrialMetaData","text":"","code":"getAllTrialMetaData(brapiConnection, cropName)"},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/getAllTrialMetaData.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve metadata on all trials for a given crop — getAllTrialMetaData","text":"brapiConnection BrAPI connection object, typically created BrAPI::createBrAPIConnection(), $search() method available. cropName character string giving BrAPI commonCropName search (e.g. \"wheat\").","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/getAllTrialMetaData.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve metadata on all trials for a given crop — getAllTrialMetaData","text":"tibble-like data frame one row per trial, containing standardized trial metadata cleaned column names POSIXct start_date end_date columns.","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/getAllTrialMetaData.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieve metadata on all trials for a given crop — getAllTrialMetaData","text":"","code":"brapiConn <- BrAPI::createBrAPIConnection(\"wheat-sandbox.triticeaetoolbox.org\", is_breedbase = TRUE)  # Retrieve trial metadata for \"Wheat\" all_trials <- getAllTrialMetaData(brapiConn, \"Wheat\") all_trials #> # A tibble: 3,819 × 12 #>    study_db_id study_name study_type study_description location_name trial_db_id #>    <chr>       <chr>      <chr>      <chr>             <chr>         <chr>       #>  1 7658        1RS-Dry_2… phenotypi… , 1RS drought ex… Davis, CA     343         #>  2 7040        1RS-Irr_2… phenotypi… , 1RS drought ex… Davis, CA     343         #>  3 8128        2017_West… NA         2017 trial        West Lafayet… 368         #>  4 8129        2018_West… NA         2018 trial        West Lafayet… 368         #>  5 8200        2020_Y1_1  phenotypi… 2020 Y1-1 ACRE    West Lafayet… 9287        #>  6 8202        2020_Y1_2  phenotypi… 2020 Y1-2 ACRE    West Lafayet… 9287        #>  7 8189        2020_Y1_3  phenotypi… 2019-2020 Y1-3 A… West Lafayet… 9287        #>  8 8194        2020_Y2_1  Prelimina… 2019-2020 Y2-1 A… West Lafayet… 9287        #>  9 8195        2020_Y2_2  Prelimina… 2019-2020 Y2-2 A… West Lafayet… 9287        #> 10 8191        2020_Y2_3  Prelimina… 2019-2020 Y2-3 A… West Lafayet… 9287        #> # ℹ 3,809 more rows #> # ℹ 6 more variables: start_date <dttm>, end_date <dttm>, program_name <chr>, #> #   common_crop_name <chr>, experimental_design <chr>, create_date <dttm>"},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/getGenoProtocolFromGermVec.html","id":null,"dir":"Reference","previous_headings":"","what":"Determine genotyping protocol metadata for a set of accessions — getGenoProtocolFromGermVec","title":"Determine genotyping protocol metadata for a set of accessions — getGenoProtocolFromGermVec","text":"Wrapper getGenoProtocolFromSingleGerm.","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/getGenoProtocolFromGermVec.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Determine genotyping protocol metadata for a set of accessions — getGenoProtocolFromGermVec","text":"","code":"getGenoProtocolFromGermVec(germ_id_vec, brapiConnection, verbose = F)"},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/getGenoProtocolFromGermVec.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Determine genotyping protocol metadata for a set of accessions — getGenoProtocolFromGermVec","text":"germ_id_vec vector germplasm DbIds. brapiConnection BrAPI connection object, typically BrAPI::createBrAPIConnection(), $wizard() method. verbose Logical; FALSE (default), display purrr progress bar else print germplasmDbId","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/getGenoProtocolFromGermVec.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Determine genotyping protocol metadata for a set of accessions — getGenoProtocolFromGermVec","text":"tibble one row per germplasm, including genotyping protocol IDs names list columns.","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/getGenoProtocolFromGermVec.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Determine genotyping protocol metadata for a set of accessions — getGenoProtocolFromGermVec","text":"","code":"brapiConn <- BrAPI::createBrAPIConnection(\"wheat-sandbox.triticeaetoolbox.org\", is_breedbase = TRUE)  germ_geno_protocols <- getGenoProtocolFromGermVec(   c(\"1284387\", \"1382716\", \"1415479\"), brapiConn) germ_geno_protocols #> # A tibble: 3 × 3 #>   germplasmDbId genoProtocolDbId genoProtocolName #>   <chr>         <list>           <list>           #> 1 1284387       <lgl [1]>        <lgl [1]>        #> 2 1382716       <lgl [1]>        <lgl [1]>        #> 3 1415479       <lgl [1]>        <lgl [1]>"},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/getGenoProtocolFromSingleGerm.html","id":null,"dir":"Reference","previous_headings":"","what":"Get genotyping protocol metadata for a single germplasm — getGenoProtocolFromSingleGerm","title":"Get genotyping protocol metadata for a single germplasm — getGenoProtocolFromSingleGerm","text":"Queries T3 AJAX interface using $wizard() method brapiConnection determine genotyping protocols used specific germplasm","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/getGenoProtocolFromSingleGerm.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get genotyping protocol metadata for a single germplasm — getGenoProtocolFromSingleGerm","text":"","code":"getGenoProtocolFromSingleGerm(germ_id, brapiConnection, verbose = F)"},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/getGenoProtocolFromSingleGerm.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get genotyping protocol metadata for a single germplasm — getGenoProtocolFromSingleGerm","text":"germ_id germplasmDbId accession interest. brapiConnection BrAPI connection object, typically BrAPI::createBrAPIConnection(), $wizard() method.","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/getGenoProtocolFromSingleGerm.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get genotyping protocol metadata for a single germplasm — getGenoProtocolFromSingleGerm","text":"tibble single row containing germplasmDbId, genoProtocolDbId, genoProtocolName. genotyping protocol columns list columns, potentially containing multiple protocol IDs/names.","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/getGenoProtocolFromSingleGerm.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get genotyping protocol metadata for a single germplasm — getGenoProtocolFromSingleGerm","text":"","code":"brapiConn <- BrAPI::createBrAPIConnection(\"wheat-sandbox.triticeaetoolbox.org\", is_breedbase = TRUE)  winner_geno_protocols <- getGenoProtocolFromGermVec(\"1284387\", brapiConn) winner_geno_protocols #> # A tibble: 1 × 3 #>   germplasmDbId genoProtocolDbId genoProtocolName #>   <chr>         <list>           <list>           #> 1 1284387       <lgl [1]>        <lgl [1]>"},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/getGermplasmFromSingleTrial.html","id":null,"dir":"Reference","previous_headings":"","what":"Get germplasm metadata for a single trial via BrAPI — getGermplasmFromSingleTrial","title":"Get germplasm metadata for a single trial via BrAPI — getGermplasmFromSingleTrial","text":"Queries BrAPI /search/germplasm endpoint given trial returns data frame germplasm accessions associated trial","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/getGermplasmFromSingleTrial.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get germplasm metadata for a single trial via BrAPI — getGermplasmFromSingleTrial","text":"","code":"getGermplasmFromSingleTrial(study_id, brapiConnection, verbose = F)"},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/getGermplasmFromSingleTrial.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get germplasm metadata for a single trial via BrAPI — getGermplasmFromSingleTrial","text":"study_id single studyDbId query germplasm . brapiConnection BrAPI connection object, typically BrAPI::createBrAPIConnection(), $search() method. verbose Logical; TRUE, print messages retrieval process.","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/getGermplasmFromSingleTrial.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get germplasm metadata for a single trial via BrAPI — getGermplasmFromSingleTrial","text":"data frame germplasm metadata given trial, one row per germplasm. Columns include studyDbId, germplasmDbId, germplasmName, synonym. result found, sure happens.","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/getGermplasmFromSingleTrial.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get germplasm metadata for a single trial via BrAPI — getGermplasmFromSingleTrial","text":"","code":"brapiConn <- BrAPI::createBrAPIConnection(\"wheat-sandbox.triticeaetoolbox.org\", is_breedbase = TRUE)  germ_df <- getGermplasmFromSingleTrial(\"8128\", brapiConn) germ_df #> # A tibble: 276 × 5 #>    studyDbId germplasmDbId germplasmName   synonyms  pedigree                 #>    <chr>     <chr>         <chr>           <list>    <chr>                    #>  1 8128      1281721       P0175A1-37-4-1  <chr [2]> 981419/97397             #>  2 8128      1344336       P2114           <chr [2]> NA/NA                    #>  3 8128      219113        TRUMAN          <chr [1]> MO11769/MADISON          #>  4 8128      219183        VA10W-663       <NULL>    NA/NA                    #>  5 8128      219210        MO081537        <NULL>    KY90C-383-18-1/IL94-1653 #>  6 8128      219264        IL04-24668      <chr [1]> IL98-13404/IL97-3578     #>  7 8128      219303        VA09W-46        <NULL>    NA/NA                    #>  8 8128      219311        VA09W-73        <NULL>    NA/NA                    #>  9 8128      219414        KY93C-1238-17-1 <chr [1]> NA/NA                    #> 10 8128      219435        SHIRLEY         <chr [3]> NA/NA                    #> # ℹ 266 more rows"},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/getGermplasmFromTrialVec.html","id":null,"dir":"Reference","previous_headings":"","what":"Get germplasm metadata for multiple trials — getGermplasmFromTrialVec","title":"Get germplasm metadata for multiple trials — getGermplasmFromTrialVec","text":"Wrapper around getGermplasmFromSingleTrial retrieve combine germplasm metadata vector trial IDs.","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/getGermplasmFromTrialVec.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get germplasm metadata for multiple trials — getGermplasmFromTrialVec","text":"","code":"getGermplasmFromTrialVec(study_id_vec, brapiConnection, verbose = F)"},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/getGermplasmFromTrialVec.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get germplasm metadata for multiple trials — getGermplasmFromTrialVec","text":"study_id_vec character vector studyDbIds query. brapiConnection BrAPI connection object used getGermplasmFromSingleTrial(). verbose Logical; passed getGermplasmFromSingleTrial() control logging. FALSE display purrr progress bar","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/getGermplasmFromTrialVec.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get germplasm metadata for multiple trials — getGermplasmFromTrialVec","text":"data frame obtained row-binding results trial, one row per germplasm per trial","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/getGermplasmFromTrialVec.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get germplasm metadata for multiple trials — getGermplasmFromTrialVec","text":"","code":"brapiConn <- BrAPI::createBrAPIConnection(\"wheat-sandbox.triticeaetoolbox.org\", is_breedbase = TRUE)  all_germ <- getGermplasmFromTrialVec(c(\"8128\", \"9421\"), brapiConn) #>  ■■■■■■■■■■■■■■■■                  50% |  ETA:  4s all_germ #> # A tibble: 402 × 5 #>    studyDbId germplasmDbId germplasmName   synonyms  pedigree                 #>    <chr>     <chr>         <chr>           <list>    <chr>                    #>  1 8128      1281721       P0175A1-37-4-1  <chr [2]> 981419/97397             #>  2 8128      1344336       P2114           <chr [2]> NA/NA                    #>  3 8128      219113        TRUMAN          <chr [1]> MO11769/MADISON          #>  4 8128      219183        VA10W-663       <NULL>    NA/NA                    #>  5 8128      219210        MO081537        <NULL>    KY90C-383-18-1/IL94-1653 #>  6 8128      219264        IL04-24668      <chr [1]> IL98-13404/IL97-3578     #>  7 8128      219303        VA09W-46        <NULL>    NA/NA                    #>  8 8128      219311        VA09W-73        <NULL>    NA/NA                    #>  9 8128      219414        KY93C-1238-17-1 <chr [1]> NA/NA                    #> 10 8128      219435        SHIRLEY         <chr [3]> NA/NA                    #> # ℹ 392 more rows"},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/getLatLongElevFromLocationVec.html","id":null,"dir":"Reference","previous_headings":"","what":"Get location info from a vector of locations via BrAPI — getLatLongElevFromLocationVec","title":"Get location info from a vector of locations via BrAPI — getLatLongElevFromLocationVec","text":"Queries BrAPI /search/locations endpoint returns data frame lat, long, elevation values locations","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/getLatLongElevFromLocationVec.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get location info from a vector of locations via BrAPI — getLatLongElevFromLocationVec","text":"","code":"getLatLongElevFromLocationVec(loc_vec, brapiConnection, id_or_name = \"name\")"},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/getLatLongElevFromLocationVec.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get location info from a vector of locations via BrAPI — getLatLongElevFromLocationVec","text":"loc_vec vector location names DB IDs want lat, long, elevation values brapiConnection BrAPI connection object, typically BrAPI::createBrAPIConnection(), $search() method. id_or_name string. \"name\" expect loc_vec vector location names else vector location DB IDs.","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/getLatLongElevFromLocationVec.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get location info from a vector of locations via BrAPI — getLatLongElevFromLocationVec","text":"data frame lattitude, longitude elevation values loactions","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/getLatLongElevFromLocationVec.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get location info from a vector of locations via BrAPI — getLatLongElevFromLocationVec","text":"","code":"brapiConn <- BrAPI::createBrAPIConnection(\"wheat.triticeaetoolbox.org\", is_breedbase = TRUE)  locs_df <- getLatLongElevFromLocationVec(c(\"31\", \"143\"), brapiConn) locs_df #> # A tibble: 0 × 6 #> # ℹ 6 variables: locationDbId <chr>, locationName <chr>, abbreviation <chr>, #> #   latitude <dbl>, longitude <dbl>, elevation <dbl>"},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/getTraitsFromSingleTrial.html","id":null,"dir":"Reference","previous_headings":"","what":"Get traits measured from a single trial via BrAPI — getTraitsFromSingleTrial","title":"Get traits measured from a single trial via BrAPI — getTraitsFromSingleTrial","text":"Queries BrAPI /search/variables endpoint given trial returns data frame traits DbIds measured trial","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/getTraitsFromSingleTrial.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get traits measured from a single trial via BrAPI — getTraitsFromSingleTrial","text":"","code":"getTraitsFromSingleTrial(study_id, brapiConnection, verbose = F)"},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/getTraitsFromSingleTrial.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get traits measured from a single trial via BrAPI — getTraitsFromSingleTrial","text":"study_id single studyDbId query germplasm . brapiConnection BrAPI connection object, typically BrAPI::createBrAPIConnection(), $search() method. verbose Logical; TRUE, print messages retrieval process.","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/getTraitsFromSingleTrial.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get traits measured from a single trial via BrAPI — getTraitsFromSingleTrial","text":"data frame traits given trial, one row per trait Columns include observationVariableDbId observationVariableName. result found, sure happens...","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/getTraitsFromSingleTrial.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get traits measured from a single trial via BrAPI — getTraitsFromSingleTrial","text":"","code":"brapiConn <- BrAPI::createBrAPIConnection(\"wheat-sandbox.triticeaetoolbox.org\", is_breedbase = TRUE)  traits_df <- getTraitsFromSingleTrial(\"8128\", brapiConn) traits_df #> # A tibble: 18 × 2 #>    observationVariableDbId observationVariableName                               #>    <chr>                   <chr>                                                 #>  1 85465                   Aboveground biomass at maturity - g|CO_321:0501159    #>  2 84161                   Grain number per spike - grain/spike|CO_321:0001200   #>  3 84800                   Grain weight - 1000 kernels - g/1000 grain|CO_321:00… #>  4 84440                   Grain weight per spike - g|CO_321:0001647             #>  5 84527                   Grain yield - kg/ha|CO_321:0001218                    #>  6 84336                   Heading time - Julian date (JD)|CO_321:0001233        #>  7 84666                   Maturity time - physiological - Julian date (JD)|CO_… #>  8 84308                   Plant height - cm|CO_321:0001301                      #>  9 84167                   Spike number - spike/m2|CO_321:0001599                #> 10 85465                   Aboveground biomass at maturity - g|CO_321:0501159    #> 11 84161                   Grain number per spike - grain/spike|CO_321:0001200   #> 12 84800                   Grain weight - 1000 kernels - g/1000 grain|CO_321:00… #> 13 84440                   Grain weight per spike - g|CO_321:0001647             #> 14 84527                   Grain yield - kg/ha|CO_321:0001218                    #> 15 84336                   Heading time - Julian date (JD)|CO_321:0001233        #> 16 84666                   Maturity time - physiological - Julian date (JD)|CO_… #> 17 84308                   Plant height - cm|CO_321:0001301                      #> 18 84167                   Spike number - spike/m2|CO_321:0001599"},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/getTraitsFromTrialVec.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve what traits were measured for a set of trials by study IDs — getTraitsFromTrialVec","title":"Retrieve what traits were measured for a set of trials by study IDs — getTraitsFromTrialVec","text":"Given vector BrAPI study IDs, use search function Breedbase connection compile vector traits measured trial study_id_vec","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/getTraitsFromTrialVec.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve what traits were measured for a set of trials by study IDs — getTraitsFromTrialVec","text":"","code":"getTraitsFromTrialVec(   study_id_vec,   brapiConnection,   namesOrIds = \"names\",   verbose = F )"},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/getTraitsFromTrialVec.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve what traits were measured for a set of trials by study IDs — getTraitsFromTrialVec","text":"study_id_vec character vector BrAPI study IDs (studyDbId values) query. brapiConnection BrAPI connection object, typically created BrAPI::createBrAPIConnection(), $search() method. namesOrIds string. \"names\" return names traits else return trait DB IDs. verbose logical. TRUE lot info traits studies else purrr progress bar","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/getTraitsFromTrialVec.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve what traits were measured for a set of trials by study IDs — getTraitsFromTrialVec","text":"vector either trait names trait DB IDs.","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/getTraitsFromTrialVec.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieve what traits were measured for a set of trials by study IDs — getTraitsFromTrialVec","text":"","code":"brapiConn <- BrAPI::createBrAPIConnection(\"wheat-sandbox.triticeaetoolbox.org\", is_breedbase = TRUE)  traits <- getTraitsFromTrialVec(c(\"8128\", \"9421\"), brapiConn) traits #> # A tibble: 2 × 2 #>   study_id traits            #>   <chr>    <list>            #> 1 8128     <tibble [18 × 1]> #> 2 9421     <tibble [6 × 1]>"},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/getTrialMetaDataFromTrialVec.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve metadata for a set of trials by study IDs — getTrialMetaDataFromTrialVec","title":"Retrieve metadata for a set of trials by study IDs — getTrialMetaDataFromTrialVec","text":"Given vector BrAPI study IDs, query /studies/{studyDbId} endpoint compile tidy data frame trial metadata.","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/getTrialMetaDataFromTrialVec.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve metadata for a set of trials by study IDs — getTrialMetaDataFromTrialVec","text":"","code":"getTrialMetaDataFromTrialVec(study_id_vec, brapiConnection)"},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/getTrialMetaDataFromTrialVec.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve metadata for a set of trials by study IDs — getTrialMetaDataFromTrialVec","text":"study_id_vec character vector BrAPI study IDs (studyDbId values) query. brapiConnection BrAPI connection object, typically created BrAPI::createBrAPIConnection(), $get() method available.","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/getTrialMetaDataFromTrialVec.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve metadata for a set of trials by study IDs — getTrialMetaDataFromTrialVec","text":"tibble-like data frame one row per trial cleaned column names (via janitor::clean_names()). Date columns start_date end_date converted POSIXct UTC.","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/getTrialMetaDataFromTrialVec.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieve metadata for a set of trials by study IDs — getTrialMetaDataFromTrialVec","text":"","code":"brapiConn <- BrAPI::createBrAPIConnection(\"wheat-sandbox.triticeaetoolbox.org\", is_breedbase = TRUE)  # Retrieve metadata for two trials df <- getTrialMetaDataFromTrialVec(c(\"8128\", \"9421\"), brapiConn) df #> # A tibble: 2 × 12 #>   study_db_id study_name  study_type study_description location_name trial_db_id #>   <chr>       <chr>       <chr>      <chr>             <chr>         <chr>       #> 1 8128        2017_WestL… NA         2017 trial        West Lafayet… 368         #> 2 9421        2022_AYT_D… phenotypi… 2022 AYT Yield T… Dakota Lakes… 9627        #> # ℹ 6 more variables: start_date <dttm>, end_date <dttm>, program_name <chr>, #> #   common_crop_name <chr>, experimental_design <chr>, create_date <dttm>"},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/makeRowFromGermResult.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert a BrAPI germplasm result into a single-row data frame — makeRowFromGermResult","title":"Convert a BrAPI germplasm result into a single-row data frame — makeRowFromGermResult","text":"Takes single germplasm object BrAPI germplasm search converts one-row data.frame key identifiers synonym metadata.","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/makeRowFromGermResult.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert a BrAPI germplasm result into a single-row data frame — makeRowFromGermResult","text":"","code":"makeRowFromGermResult(gr, study_id)"},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/makeRowFromGermResult.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert a BrAPI germplasm result into a single-row data frame — makeRowFromGermResult","text":"gr list representing single germplasm result BrAPI germplasm search. study_id studyDbId (character numeric) associated germplasm current context.","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/makeRowFromGermResult.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert a BrAPI germplasm result into a single-row data frame — makeRowFromGermResult","text":"one-row data.frame columns studyDbId, germplasmDbId, germplasmName, synonym.","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/makeRowFromGermResult.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Convert a BrAPI germplasm result into a single-row data frame — makeRowFromGermResult","text":"synonyms present, first synonym extracted.","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/makeRowFromGermResult.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert a BrAPI germplasm result into a single-row data frame — makeRowFromGermResult","text":"","code":"gr <- list(   germplasmDbId = \"123456\",   germplasmName = \"Accession1\",   synonyms = list(list(synonym = \"G1-alt\")) )  makeRowFromGermResult(gr, study_id = \"12345\") #> Error in makeRowFromGermResult(gr, study_id = \"12345\"): could not find function \"makeRowFromGermResult\""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/makeRowFromTrialResult.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert a BrAPI study result into a single-row data frame — makeRowFromTrialResult","title":"Convert a BrAPI study result into a single-row data frame — makeRowFromTrialResult","text":"Takes single study object BrAPI studies response converts one-row data.frame key metadata fields. helper used functions assemble trial metadata tables.","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/makeRowFromTrialResult.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert a BrAPI study result into a single-row data frame — makeRowFromTrialResult","text":"","code":"makeRowFromTrialResult(tr)"},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/makeRowFromTrialResult.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert a BrAPI study result into a single-row data frame — makeRowFromTrialResult","text":"tr list representing single trial result BrAPI /studies endpoint, typically brapiConnection$get(\"studies/ID\")$content$result.","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/makeRowFromTrialResult.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert a BrAPI study result into a single-row data frame — makeRowFromTrialResult","text":"one-row data.frame columns studyDbId, studyName, studyType, studyDescription, locationName, trialDbID, startDate, endDate, programName, commonCropName, experimentalDesign.","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/makeRowFromTrialResult.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Convert a BrAPI study result into a single-row data frame — makeRowFromTrialResult","text":"function assumes infix operator %||% available calling environment replace NULL NA.","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/makeRowFromTrialResult.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert a BrAPI study result into a single-row data frame — makeRowFromTrialResult","text":"","code":"# Create fake trial result tr <- list(   studyDbId = \"12345\",   studyName = \"Fake Trial\",   studyType = \"Yield Trial\",   studyDescription = \"Example\",   locationName = \"Loc1\",   trialDbId = \"trial123\",   startDate = \"2020-01-01T00:00:00Z\",   endDate = \"2020-02-01T00:00:00Z\",   additionalInfo = list(programName = \"Program A\"),   commonCropName = \"wheat\",   experimentalDesign = list(description = \"RCBD\") )  makeRowFromTrialResult(tr) #> Error in makeRowFromTrialResult(tr): could not find function \"makeRowFromTrialResult\""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/matrix_to_vector_idx.html","id":null,"dir":"Reference","previous_headings":"","what":"Map matrix indices to vector index for covariance parameters — matrix_to_vector_idx","title":"Map matrix indices to vector index for covariance parameters — matrix_to_vector_idx","text":"Map matrix indices vector index covariance parameters","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/matrix_to_vector_idx.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Map matrix indices to vector index for covariance parameters — matrix_to_vector_idx","text":"","code":"matrix_to_vector_idx(i, j)"},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/matrix_to_vector_idx.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Map matrix indices to vector index for covariance parameters — matrix_to_vector_idx","text":"Row index (0-based) j Column index (0-based)","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/matrix_to_vector_idx.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Map matrix indices to vector index for covariance parameters — matrix_to_vector_idx","text":"Vector index","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/retryQuery.html","id":null,"dir":"Reference","previous_headings":"","what":"Retry a Function Multiple Times on Error — retryQuery","title":"Retry a Function Multiple Times on Error — retryQuery","text":"retryQuery() repeatedly calls user-supplied function may throw error (e.g., due network timeouts, temporary API failures, file /O issues). error occurs, function waits specified number seconds tries , user-defined maximum number attempts.","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/retryQuery.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retry a Function Multiple Times on Error — retryQuery","text":"","code":"retryQuery(fun, max_tries = 10, wait = 3, silent = TRUE)"},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/retryQuery.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retry a Function Multiple Times on Error — retryQuery","text":"fun function zero arguments (typically anonymous function) encapsulates operation attempt. max_tries Integer. Maximum number attempts giving . Default 10. wait Numeric. Number seconds pause attempts. Default 3. silent Logical. Whether suppress error messages failed attempts. Default TRUE.","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/retryQuery.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retry a Function Multiple Times on Error — retryQuery","text":"value returned fun() attempt succeeds; otherwise NULL invisibly.","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/retryQuery.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Retry a Function Multiple Times on Error — retryQuery","text":"wrapper especially useful BrAPI queries httr requests intermittently fail typically succeed subsequent attempt. function supplied retry() evaluated environment retry() called, local variables referenced inside function automatically available. safer flexible evaluating quoted expressions.","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/retryQuery.html","id":"behavior","dir":"Reference","previous_headings":"","what":"Behavior","title":"Retry a Function Multiple Times on Error — retryQuery","text":"first successful call, returned value returned attempts fail, NULL returned invisibly final message. Errors generated failed attempts suppressed silent = TRUE.","code":""},{"path":"https://jeanlucj.github.io/T3BrapiHelpers/reference/retryQuery.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retry a Function Multiple Times on Error — retryQuery","text":"","code":"# A function that fails twice, then succeeds i <- 0 result <- retry(   function() {     i <<- i + 1     if (i < 3) stop(\"Temporary failure\")     \"Success!\"   },   max_tries = 5,   wait = 0.1 ) #> Error in retry(function() {    i <<- i + 1    if (i < 3)         stop(\"Temporary failure\")    \"Success!\"}, max_tries = 5, wait = 0.1): could not find function \"retry\" result #> Error: object 'result' not found  # Example with an httr call (fake for illustration) t3url <- \"https://example.org\" path <- \"/endpoint\"  fake_call <- function() {   if (runif(1) < 0.7) stop(\"Simulated flaky network\")   paste(\"Called:\", paste0(t3url, path)) }  retryQuery(fake_call, max_tries = 5, wait = 0.2) #> Error in retryQuery(fake_call, max_tries = 5, wait = 0.2): could not find function \"retryQuery\""}]
